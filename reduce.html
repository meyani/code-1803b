<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>

</head>
<body>
<table id="tbl"> </table>
<script>


    var users=[

        {name:"张三",sex:"女",age:"50"},
        {name:"彭桂香",sex:"女",age:"17"},
        {name:"老李",sex:"男",age:"24"},
        {name:"李师",sex:"女",age:"24"},
        {name:"王帅",sex:"男",age:"49"}
    ];

     users.sort(function(a,b){
       /*if(a.age> b.age){
           return -1;
       }else if(a.age< b.age){
             return 1;
         }
       else if(a.sex=="女"){
           return 1;
       }else{
           return -1;
       }*/
        var r= b.age-a.age;
         if(r==0){
             return(b.sex.charCodeAt(0)- a.sex.charCodeAt(0));
         }
         return r;
    });
    users= users.filter(function(a,b,c){
         return a.age<=50&& a.age>=18;
     });


    var str= users.map(function(a,b,c){
        return `<tr>
        <td>${a.name}</td>
        <td>${a.age}</td>
        <td>${a.sex}</td>
          </tr>  `;
    }).reduce(function(a,b){
        //reduce 将每次返回的值合并成返回值，用于统计
        return a+b;
    })
     var tbl=document.getElementById("tbl") ;

     tbl.innerHTML=str;
  /* 高阶函数
    map  =>  每次回调返回的值组成新的数组，新数组的长度和原数组长度一样
    filter =》回调返回布尔值，true则留着，false则去掉，组成新数组
    some=》回调返回布尔值，只要有一个返回true，则最终结果为true
    every=> 回调返回布尔值，s所有有一个返回true，则最终结果为true
    reduce =>用来做统计，将每次回调的结果注入到第一个参数中
    forEach=>普通的迭代*/


    var a=4567;
 var result=[100,50,20,10,5,1].map(function(item){
        var zhangshu=Math.floor(a/item);
     a-=zhangshu*item;
     return zhangshu;
    }).reduce(function(a,b){
     return a+b;
 });
</script>
</body>
</html>